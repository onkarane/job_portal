@model CIS655Project.Models.Job

@{
    ViewData["Title"] = "MyProfile";
    Layout = "~/Views/Shared/_BLayout.cshtml";
}

<h1 class="text-center">Post Jobs</h1>

@if (TempData["updateFail"] != null)
{
    <div class="alert alert-danger">@TempData["jobPostFail"] </div>
}
@if (TempData["edit"] != null)
{
    <div class="alert alert-success">@TempData["jobPost"] </div>
}

<hr />
<div class="row">
    <div class="col-md-8 card mx-auto" style="box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);">
        <form asp-action="JobEdit" method="post" class="mx-auto">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-inline mt-3">
                <div class="form-group">
                    <input type="hidden" asp-for="JobId" />
                </div>
                <div class="form-group">
                    <label asp-for="JobTitle" class="control-label"></label>
                    <input asp-for="JobTitle" type="text" class="form-control ml-4" required readonly />
                    <span asp-validation-for="JobTitle" class="text-danger"></span>
                </div>
            </div>
            <div class="form-inline mt-2">
                <div class="form-group">
                    <input type="hidden" asp-for="JobPostDate" class="form-control" style="margin-left: 29.5px" required value="@DateTime.Now.ToString("M/d/yyyy")" />
                    <span asp-validation-for="JobPostDate" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Location" class="control-label"></label>
                    <input asp-for="Location" type="text" class="form-control ml-3" required readonly />
                    <span asp-validation-for="Location" class="text-danger"></span>
                </div>

            </div>

            <div class="form-inline">
                <div class="form-group mt-2">
                    <label asp-for="JobType" class="control-label">Job Type</label>
                    <select asp-for="JobType" class="form-control ml-3">
                        <option value="Full Time">
                            Full Time
                        </option>
                        <option value="Internship">
                            Internship
                        </option>
                        <option value="Contract">
                            Contract
                        </option>
                    </select>
                    <span asp-validation-for="JobType" class="text-danger"></span>
                </div>
            </div>
            <div class="form-inline">
                <div class="form-group mt-2">
                    <label asp-for="JobCatId" class="control-label">Category</label>
                    <select asp-for="JobCatId" class="form-control ml-3">
                        <option value="0" selected>
                            Select a Job Category
                        </option>
                        <option value="1">
                            Information Technology
                        </option>
                        <option value="2">
                            Data Science
                        </option>
                        <option value="3">
                            Customer Support
                        </option>
                        <option value="4">
                            Marketing
                        </option>
                        <option value="5">
                            Sales
                        </option>
                        <option value="6">
                            Business
                        </option>
                    </select>
                    <span asp-validation-for="JobCatId" class="text-danger"></span>
                </div>
            </div>
            <div class="form-inline">
                <div class="form-group mt-2">
                    <label asp-for="Summary" class="control-label"></label>
                    <textarea asp-for="Summary" type="text" class="form-control ml-3" required readonly></textarea>
                    <span asp-validation-for="Summary" class="text-danger"></span>
                </div>
            </div>

            <div class="form-group mt-3">
                <div style="margin-left: 150px">
                    <input type="button" id="edit" value="Edit" class="btn btn-primary" />
                    <input type="submit" value="Update" class="btn btn-outline-primary" disabled />
                </div>
            </div>
        </form>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<!--Script to remove read only attribute-->
<script>
    $('#edit').click(function () {
        $('input[type=text]').removeAttr('readonly');
        $('input[type=number]').removeAttr('readonly');
        $('input[type=email]').removeAttr('readonly');
        $('input[type=submit]').removeAttr('disabled');
        $('textarea').removeAttr('readonly');
    });
</script>
